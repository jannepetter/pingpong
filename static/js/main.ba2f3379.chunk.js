(this.webpackJsonppingpong=this.webpackJsonppingpong||[]).push([[0],[,,,,function(e,t,i){e.exports=i(13)},,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n,a=i(0),r=i.n(a),h=i(3),c=i.n(h),o=(i(9),i(1)),u=(i(10),{width:1600,height:2/3*1600}),d={x:u.width/2,y:u.height/2,size:u.height/40,dx:u.width/100,dy:u.height/100},l={x:u.width/30,y:u.height/2.5,width:u.width/40,height:u.height/5.5,speed:16,dy:0},s={x:u.width-u.width/20,y:u.height/2.5,width:u.width/40,height:u.height/5.5,speed:16,dy:0},y=!1,f=function(){y=!1,!1},g=function(e,t){Math.abs(e.y+e.height/2-u.height/2)<6?e.dy=0:e.y+e.height/2>u.height/2?e.dy=-1*t:e.y+e.height/2<u.height/2&&(e.dy=t)},m=function(e){var t=0;e&&(t=s.speed/3);var i=function(e,t){var i=Math.abs(e.y-(t.y+t.height/2)),n=Math.min(Math.abs(e.dy)+1,t.speed),a=Math.abs(e.dx),r=Math.abs(e.dy);return a>8||r>8?t.speed:i<t.height/2?n:t.speed}(d,s)-t,n=d.dx>0?"incoming":"outgoing",a=d.y>s.y+s.height/2?"down":"up";switch(d.y>s.y+s.height/2-s.speed&&d.y<s.y+s.height/2+s.speed?n+"towards":n+a){case"incomingdown":s.dy=i;break;case"incomingup":s.dy=-1*i;break;case"incomingtowards":s.dy=0;break;default:g(s,i)}},p=function(e,t,i){if(i)return Math.abs(e-t);if(!i){var n=e+t;return n>u.height?u.height-(n-u.height):n}},w=function(e,t,i,n){var a=function(e){var t=u.width;return e>t/2?t-(t-e)-(l.x+l.width):t-e-(t-s.x)}(e)/i,r=Math.abs(a*n),h=Math.floor(r/u.height),c=r%u.height;if(0===r)return d.y;if(h%2===0&&n<0)return p(t,c,!0);if(h%2===0&&n>0)return p(t,c,!1);if(h%2===1&&n<0){var o=u.height-t;return p(o,c,!1)}if(h%2===1&&n>0){var y=u.height-t;return p(y,c,!0)}},b=u.width/100,v=u.height/100,x=function(){d.x=u.width/2,d.y=u.height/2,d.dx=b,d.dy=v,l.y=u.height/2.5,s.y=u.height/2.5},k=function(e){e.beginPath(),e.fillStyle="white",e.fillRect(l.x,l.y,l.width,l.height),e.fillRect(s.x,s.y,s.width,s.height)},E=function(e){e.beginPath(),e.arc(d.x,d.y,d.size,0,2*Math.PI),e.fillStyle="red",e.fill()},j=function(e,t){e.clearRect(0,0,t.width,t.height),e.fillStyle="black",e.fillRect(0,0,t.width,t.height)},O=(i(11),function(e){var t=Object(a.useRef)(),i=e.run?"pause":"continue",h=document.getElementById("kanvaasi"),c=Object(a.useState)(0),p=Object(o.a)(c,2),b=p[0],v=p[1],O=Object(a.useState)(0),M=Object(o.a)(O,2),S=M[0],C=M[1],D=e.difficulty,T=e.setDifficulty,A=e.setUpdate,z=e.setStart,B=e.setRun,N=h.getContext("2d");h.width=u.width,h.height=u.height,N.fillStyle="black",N.fillRect(0,0,h.width,h.height);var R=function(e){switch(e){case"easy":return m(!0);case"normal":return m(!1);case"hard":return function(){var e=s.speed,t=d.dx>0?"incoming":"outgoing";"outgoing"===t&&!0===y&&(y=!1),"incoming"===t&&!1===y&&(n=w(d.x,d.y,d.dx,d.dy),y=!0);var i=n>s.y+s.height/2?"down":"up";switch(n<s.y+s.height/2+s.speed&&n>s.y+s.height/2-s.speed&&(i="towards"),t+i){case"incomingdown":s.dy=e;break;case"incomingup":s.dy=-1*e;break;case"incomingtowards":s.dy=0;break;default:g(s,e)}}();default:return m(!0)}},F=Object(a.useCallback)((function(){j(N,h),k(N),E(N),function(e,t,i,n){e.font="30px Arial",e.fillStyle="white",i&&!t?e.fillText("Paused",u.width/2.2,u.height/4.4):i||t?t&&i&&e.fillText("Get ready!",u.width/2.2,u.height/4.4):(e.fillText("Press start to begin game",u.width/2.6,u.height/4.4),e.fillText("Move paddle up, arrowUp key",u.width/2.6,u.height/3.8),e.fillText("Move paddle down, arrowDown key",u.width/2.6,u.height/3.3),e.fillText("Mobile touchkeys, appear in landscapeview",u.width/2.6,u.height/2.95),e.fillText("Who gets ".concat(n," points first wins"),u.width/2.6,u.height/2.65))}(N,e.run,e.start,10)}),[N,h,e.run,e.start]),L=Object(a.useCallback)((function(e){var t=function(){x(),f(),F()};return e.x<-200?(C(S+1),t(),"computer"):e.x>u.width+200?(v(b+1),t(),"player"):"noscore"}),[S,b,F]),P=Object(a.useCallback)((function(e){var t=function(){setTimeout((function(){A(!0)}),1500)},i=function(){z(!1),B(!1),T("easy"),j(N,h),k(N),E(N),function(e,t,i){e.font="30px Arial",e.fillStyle="white",t>i?e.fillText("You won! Play again?",u.width/2.4,u.height/4.4):i>t&&e.fillText("You lose! Try again?",u.width/2.4,u.height/4.4)}(N,b,S)};switch(e){case"computer":if(S+1>=10){i();break}t();break;case"player":if(b+1>=10){i();break}t()}}),[N,h,b,S,A,z,B,T]),I=Object(a.useCallback)((function(){j(N,h),k(N),R(D),l.y+=l.dy,s.y+=s.dy,E(N),d.x+=d.dx,d.y+=d.dy,function(e){l.y<0&&(l.y=0),l.y+l.height>e.height&&(l.y=e.height-l.height),s.y<0&&(s.y=0),s.y+s.height>e.height&&(s.y=e.height-s.height)}(h),function(e){var t=Math.abs(d.dy);d.y>e.height-t&&(d.y=e.height,d.dy*=-1),d.y<t&&(d.y=0,d.dy*=-1)}(h),function(){var e=Math.round(Math.random()*(s.height/20)),t=function(t,i){switch(i.dx>0?"right":"left"){case"right":i.x=t.x-i.size,i.dx*=-1.02;break;case"left":i.x=t.x+t.width+i.size,i.dx*=-1.02}var n=t.height/3;i.y>=t.y-i.size&&i.y<=t.y+n&&(i.dy<=-30?i.dy=-30:i.dy-=2),i.y>=t.y+n&&i.y<=t.y+2*n&&(e%2===0?i.dy+=e:i.dy-=e),i.y>=t.y+2*n&&i.y<=t.y+i.size+3*n&&(i.dy>=30?i.dy=30:i.dy+=2)},i=function(e,t){var i=t.dx>0,n=t.x+t.dx,a=e.x+e.width;return!!(i&&n>=e.x&&n<=a)||!i&&n-t.size<=a&&n>=e.x},n=function(e,t){return t.y>=e.y-t.size&&t.y<=e.y+e.height+t.size};i(l,d)&&n(l,d)&&t(l,d),i(s,d)&&n(s,d)&&t(s,d)}();var e=L(d);"noscore"!==e?(A(!1),P(e)):t.current=requestAnimationFrame(I)}),[h,N,D,A,L,P]);Object(a.useEffect)((function(){cancelAnimationFrame(t.current),e.run&&e.start&&e.update&&I()}),[S,b,e.run,e.start,e.update,I,e.difficulty]);document.addEventListener("keydown",(function(e){"ArrowUp"===e.key&&(l.dy=-1*l.speed),"ArrowDown"===e.key&&(l.dy=l.speed)})),document.addEventListener("keyup",(function(e){"ArrowUp"===e.key&&(l.dy=0),"ArrowDown"===e.key&&(l.dy=0)}));var U=function(e,t){e.cancelable&&e.preventDefault(),l.dy=l.speed*t},W=function(e){e.cancelable&&e.preventDefault(),l.dy=0},J=document.getElementById("ylosnappi"),Y=document.getElementById("alasnappi");return J.addEventListener("touchstart",(function(e){return U(e,-1)}),{passive:!1}),J.addEventListener("touchend",(function(e){return W(e)})),Y.addEventListener("touchstart",(function(e){return U(e,1)}),{passive:!1}),Y.addEventListener("touchend",(function(e){return W(e)})),F(),r.a.createElement("div",{className:"infobar"},r.a.createElement("span",{className:"infoitem"},"player ",b)," ",r.a.createElement("span",{className:"infoitem"},"computer   ",S),e.start?r.a.createElement("button",{className:"infoitem basicButton",onClick:function(){!1!==e.run?!0===e.run&&B(!1):B(!0)}},i):null,e.start?r.a.createElement("button",{className:"infoitem basicButton",onClick:function(){cancelAnimationFrame(t.current),x(),f(),e.setDifficulty("easy"),F(),z(!1),B(!1),C(0),v(0)}},"restart"):r.a.createElement("button",{className:"infoitem basicButton",onClick:function(){!1===e.start&&(I(),v(0),C(0),A(!0),B(!0),z(!0))}},"start"))}),M=(i(12),function(e){return e.start?r.a.createElement("div",null):r.a.createElement("div",{className:"optionpanelcontainer"},r.a.createElement("div",null,"difficulty:",r.a.createElement("input",{onChange:function(t){return e.setDifficulty(t.target.value)},name:"jee",type:"radio",id:"radio1",defaultChecked:!0,value:"easy"}),r.a.createElement("label",{htmlFor:"radio1"},"easy"),r.a.createElement("input",{onChange:function(t){return e.setDifficulty(t.target.value)},name:"jee",type:"radio",id:"radio2",value:"normal"}),r.a.createElement("label",{htmlFor:"radio2"},"normal"),r.a.createElement("input",{onChange:function(t){return e.setDifficulty(t.target.value)},name:"jee",type:"radio",id:"radio3",value:"hard"}),r.a.createElement("label",{htmlFor:"radio3"},"real pro")))});var S=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),i=t[0],n=t[1],h=Object(a.useState)(!1),c=Object(o.a)(h,2),u=c[0],d=c[1],l=Object(a.useState)("easy"),s=Object(o.a)(l,2),y=s[0],f=s[1],g=Object(a.useState)(!1),m=Object(o.a)(g,2),p=m[0],w=m[1];return r.a.createElement("div",{className:"App"},r.a.createElement(M,{setDifficulty:f,start:u}),r.a.createElement(O,{run:i,setRun:n,start:u,setStart:d,difficulty:y,setDifficulty:f,update:p,setUpdate:w}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[4,1,2]]]);
//# sourceMappingURL=main.ba2f3379.chunk.js.map